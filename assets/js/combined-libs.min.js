function Hammer(a,b,c){function d(a){return a.touches?a.touches.length:1}function e(a){if(a=a||window.event,J){for(var b,c=[],d=a.touches.length>0?a.touches:a.changedTouches,e=0,f=d.length;f>e;e++)b=d[e],c.push({x:b.pageX,y:b.pageY});return c}var g=document,h=g.body;return[{x:a.pageX||a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&g.clientLeft||0),y:a.pageY||a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&g.clientTop||0)}]}function f(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function g(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function h(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=180*Math.atan2(d,c)/Math.PI;c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=180*Math.atan2(d,c)/Math.PI;return f-e}return 0}function i(a,b){b.touches=e(b.originalEvent),b.type=a,o(q["on"+a])&&q["on"+a].call(q,b)}function j(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function k(){y={},A=!1,z=0,v=0,w=0,B=null}function l(c){switch(c.type){case"mousedown":case"touchstart":y.start=e(c),D=(new Date).getTime(),z=d(c),A=!0,s=c;var f=a.getBoundingClientRect(),l=a.clientTop||document.body.clientTop||0,m=a.clientLeft||document.body.clientLeft||0,n=window.pageYOffset||a.scrollTop||document.body.scrollTop,o=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;H={top:f.top+n-l,left:f.left+o-m},I=!0,K.hold(c),b.prevent_default&&j(c);break;case"mousemove":case"touchmove":if(!I)return!1;t=c,y.move=e(c),K.transform(c)||K.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!I||"transform"!=B&&c.touches&&c.touches.length>0)return!1;I=!1,u=c;var p="drag"==B;K.swipe(c),p?i("dragend",{originalEvent:c,direction:x,distance:v,angle:w}):"transform"==B?i("transformend",{originalEvent:c,position:y.center,scale:g(y.start,y.move),rotation:h(y.start,y.move)}):K.tap(s),C=B,i("release",{originalEvent:c,gesture:B}),k()}}function m(a,b){if(!b&&window.event&&window.event.toElement&&(b=window.event.toElement),a===b)return!0;if(b)for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function n(a,b){var c={};if(!b)return a;for(var d in a)c[d]=d in b?b[d]:a[d];return c}function o(a){return"[object Function]"==Object.prototype.toString.call(a)}function p(a,b,c){b=b.split(" ");for(var d=0,e=b.length;e>d;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var q=this,r={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};b=n(r,b),function(){if(!b.css_hacks)return!1;for(var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="",f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var s,t,u,v=0,w=0,x=0,y={},z=0,A=!1,B=null,C=null,D=null,E={x:0,y:0},F=null,G=null,H={},I=!1,J="ontouchstart"in window;this.option=function(a,d){return d!=c&&(b[a]=d),b[a]},this.getDirectionFromAngle=function(a){var b,c,d={down:a>=45&&135>a,left:a>=135||-135>=a,up:-45>a&&a>-135,right:a>=-45&&45>=a};for(c in d)if(d[c]){b=c;break}return b};var K={hold:function(a){b.hold&&(B="hold",clearTimeout(G),G=setTimeout(function(){"hold"==B&&i("hold",{originalEvent:a,position:y.start})},b.hold_timeout))},swipe:function(a){if(y.move){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;v=Math.sqrt(c*c+d*d);var e=(new Date).getTime(),g=e-D;if(b.swipe&&b.swipe_time>g&&v>b.swipe_min_distance){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w),B="swipe";var h={x:y.move[0].x-H.left,y:y.move[0].y-H.top},j={originalEvent:a,position:h,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};i("swipe",j)}}},drag:function(a){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;if(v=Math.sqrt(c*c+d*d),b.drag&&v>b.drag_min_distance||"drag"==B){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w);var e="up"==x||"down"==x;if((e&&!b.drag_vertical||!e&&!b.drag_horizontal)&&v>b.drag_min_distance)return;B="drag";var g={x:y.move[0].x-H.left,y:y.move[0].y-H.top},h={originalEvent:a,position:g,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};A&&(i("dragstart",h),A=!1),i("drag",h),j(a)}},transform:function(a){if(b.transform){if(2!=d(a))return!1;var c=h(y.start,y.move),e=g(y.start,y.move);if("drag"!=B&&("transform"==B||Math.abs(1-e)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){B="transform",y.center={x:(y.move[0].x+y.move[1].x)/2-H.left,y:(y.move[0].y+y.move[1].y)/2-H.top};var f={originalEvent:a,position:y.center,scale:e,rotation:c};return A&&(i("transformstart",f),A=!1),i("transform",f),j(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-D;if(!b.hold||b.hold&&b.hold_timeout>d){var e=function(){if(E&&b.tap_double&&"tap"==C&&D-F<b.tap_max_interval){var a=Math.abs(E[0].x-y.start[0].x),c=Math.abs(E[0].y-y.start[0].y);return E&&y.start&&Math.max(a,c)<b.tap_double_distance}return!1}();if(e)B="double_tap",F=null,i("doubletap",{originalEvent:a,position:y.start}),j(a);else{var f=y.move?Math.abs(y.move[0].x-y.start[0].x):0,g=y.move?Math.abs(y.move[0].y-y.start[0].y):0;v=Math.max(f,g),v<b.tap_max_distance&&(B="tap",F=c,E=y.start,b.tap&&(i("tap",{originalEvent:a,position:y.start}),j(a)))}}}};J?p(a,"touchstart touchmove touchend touchcancel",l):(p(a,"mouseup mousedown mousemove",l),p(a,"mouseout",function(b){m(a,b.relatedTarget)||l(b)}))}function Hammer(a,b,c){function d(a){return a.touches?a.touches.length:1}function e(a){if(a=a||window.event,J){for(var b,c=[],d=a.touches.length>0?a.touches:a.changedTouches,e=0,f=d.length;f>e;e++)b=d[e],c.push({x:b.pageX,y:b.pageY});return c}var g=document,h=g.body;return[{x:a.pageX||a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&g.clientLeft||0),y:a.pageY||a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&g.clientTop||0)}]}function f(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function g(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function h(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=180*Math.atan2(d,c)/Math.PI;c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=180*Math.atan2(d,c)/Math.PI;return f-e}return 0}function i(a,b){b.touches=e(b.originalEvent),b.type=a,o(q["on"+a])&&q["on"+a].call(q,b)}function j(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function k(){y={},A=!1,z=0,v=0,w=0,B=null}function l(c){switch(c.type){case"mousedown":case"touchstart":y.start=e(c),D=(new Date).getTime(),z=d(c),A=!0,s=c;var f=a.getBoundingClientRect(),l=a.clientTop||document.body.clientTop||0,m=a.clientLeft||document.body.clientLeft||0,n=window.pageYOffset||a.scrollTop||document.body.scrollTop,o=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;H={top:f.top+n-l,left:f.left+o-m},I=!0,K.hold(c),b.prevent_default&&j(c);break;case"mousemove":case"touchmove":if(!I)return!1;t=c,y.move=e(c),K.transform(c)||K.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!I||"transform"!=B&&c.touches&&c.touches.length>0)return!1;I=!1,u=c;var p="drag"==B;K.swipe(c),p?i("dragend",{originalEvent:c,direction:x,distance:v,angle:w}):"transform"==B?i("transformend",{originalEvent:c,position:y.center,scale:g(y.start,y.move),rotation:h(y.start,y.move)}):K.tap(s),C=B,i("release",{originalEvent:c,gesture:B}),k()}}function m(a,b){if(!b&&window.event&&window.event.toElement&&(b=window.event.toElement),a===b)return!0;if(b)for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function n(a,b){var c={};if(!b)return a;for(var d in a)c[d]=d in b?b[d]:a[d];return c}function o(a){return"[object Function]"==Object.prototype.toString.call(a)}function p(a,b,c){b=b.split(" ");for(var d=0,e=b.length;e>d;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var q=this,r={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};b=n(r,b),function(){if(!b.css_hacks)return!1;for(var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="",f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var s,t,u,v=0,w=0,x=0,y={},z=0,A=!1,B=null,C=null,D=null,E={x:0,y:0},F=null,G=null,H={},I=!1,J="ontouchstart"in window;this.option=function(a,d){return d!=c&&(b[a]=d),b[a]},this.getDirectionFromAngle=function(a){var b,c,d={down:a>=45&&135>a,left:a>=135||-135>=a,up:-45>a&&a>-135,right:a>=-45&&45>=a};for(c in d)if(d[c]){b=c;break}return b};var K={hold:function(a){b.hold&&(B="hold",clearTimeout(G),G=setTimeout(function(){"hold"==B&&i("hold",{originalEvent:a,position:y.start})},b.hold_timeout))},swipe:function(a){if(y.move){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;v=Math.sqrt(c*c+d*d);var e=(new Date).getTime(),g=e-D;if(b.swipe&&b.swipe_time>g&&v>b.swipe_min_distance){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w),B="swipe";var h={x:y.move[0].x-H.left,y:y.move[0].y-H.top},j={originalEvent:a,position:h,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};i("swipe",j)}}},drag:function(a){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;if(v=Math.sqrt(c*c+d*d),b.drag&&v>b.drag_min_distance||"drag"==B){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w);var e="up"==x||"down"==x;if((e&&!b.drag_vertical||!e&&!b.drag_horizontal)&&v>b.drag_min_distance)return;B="drag";var g={x:y.move[0].x-H.left,y:y.move[0].y-H.top},h={originalEvent:a,position:g,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};A&&(i("dragstart",h),A=!1),i("drag",h),j(a)}},transform:function(a){if(b.transform){if(2!=d(a))return!1;var c=h(y.start,y.move),e=g(y.start,y.move);if("drag"!=B&&("transform"==B||Math.abs(1-e)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){B="transform",y.center={x:(y.move[0].x+y.move[1].x)/2-H.left,y:(y.move[0].y+y.move[1].y)/2-H.top};var f={originalEvent:a,position:y.center,scale:e,rotation:c};return A&&(i("transformstart",f),A=!1),i("transform",f),j(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-D;if(!b.hold||b.hold&&b.hold_timeout>d){var e=function(){if(E&&b.tap_double&&"tap"==C&&D-F<b.tap_max_interval){var a=Math.abs(E[0].x-y.start[0].x),c=Math.abs(E[0].y-y.start[0].y);return E&&y.start&&Math.max(a,c)<b.tap_double_distance}return!1}();if(e)B="double_tap",F=null,i("doubletap",{originalEvent:a,position:y.start}),j(a);else{var f=y.move?Math.abs(y.move[0].x-y.start[0].x):0,g=y.move?Math.abs(y.move[0].y-y.start[0].y):0;v=Math.max(f,g),v<b.tap_max_distance&&(B="tap",F=c,E=y.start,b.tap&&(i("tap",{originalEvent:a,position:y.start}),j(a)))}}}};J?p(a,"touchstart touchmove touchend touchcancel",l):(p(a,"mouseup mousedown mousemove",l),p(a,"mouseout",function(b){m(a,b.relatedTarget)||l(b)}))}function Hammer(a,b,c){function d(a){return a.touches?a.touches.length:1}function e(a){if(a=a||window.event,J){for(var b,c=[],d=a.touches.length>0?a.touches:a.changedTouches,e=0,f=d.length;f>e;e++)b=d[e],c.push({x:b.pageX,y:b.pageY});return c}var g=document,h=g.body;return[{x:a.pageX||a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&g.clientLeft||0),y:a.pageY||a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&g.clientTop||0)}]}function f(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function g(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function h(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=180*Math.atan2(d,c)/Math.PI;c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=180*Math.atan2(d,c)/Math.PI;return f-e}return 0}function i(a,b){b.touches=e(b.originalEvent),b.type=a,o(q["on"+a])&&q["on"+a].call(q,b)}function j(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function k(){y={},A=!1,z=0,v=0,w=0,B=null}function l(c){switch(c.type){case"mousedown":case"touchstart":y.start=e(c),D=(new Date).getTime(),z=d(c),A=!0,s=c;var f=a.getBoundingClientRect(),l=a.clientTop||document.body.clientTop||0,m=a.clientLeft||document.body.clientLeft||0,n=window.pageYOffset||a.scrollTop||document.body.scrollTop,o=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;H={top:f.top+n-l,left:f.left+o-m},I=!0,K.hold(c),b.prevent_default&&j(c);break;case"mousemove":case"touchmove":if(!I)return!1;t=c,y.move=e(c),K.transform(c)||K.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!I||"transform"!=B&&c.touches&&c.touches.length>0)return!1;I=!1,u=c;var p="drag"==B;K.swipe(c),p?i("dragend",{originalEvent:c,direction:x,distance:v,angle:w}):"transform"==B?i("transformend",{originalEvent:c,position:y.center,scale:g(y.start,y.move),rotation:h(y.start,y.move)}):K.tap(s),C=B,i("release",{originalEvent:c,gesture:B}),k()}}function m(a,b){if(!b&&window.event&&window.event.toElement&&(b=window.event.toElement),a===b)return!0;if(b)for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function n(a,b){var c={};if(!b)return a;for(var d in a)c[d]=d in b?b[d]:a[d];return c}function o(a){return"[object Function]"==Object.prototype.toString.call(a)}function p(a,b,c){b=b.split(" ");for(var d=0,e=b.length;e>d;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var q=this,r={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};b=n(r,b),function(){if(!b.css_hacks)return!1;for(var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="",f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var s,t,u,v=0,w=0,x=0,y={},z=0,A=!1,B=null,C=null,D=null,E={x:0,y:0},F=null,G=null,H={},I=!1,J="ontouchstart"in window;this.option=function(a,d){return d!=c&&(b[a]=d),b[a]},this.getDirectionFromAngle=function(a){var b,c,d={down:a>=45&&135>a,left:a>=135||-135>=a,up:-45>a&&a>-135,right:a>=-45&&45>=a};for(c in d)if(d[c]){b=c;break}return b};var K={hold:function(a){b.hold&&(B="hold",clearTimeout(G),G=setTimeout(function(){"hold"==B&&i("hold",{originalEvent:a,position:y.start})},b.hold_timeout))},swipe:function(a){if(y.move){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;v=Math.sqrt(c*c+d*d);var e=(new Date).getTime(),g=e-D;if(b.swipe&&b.swipe_time>g&&v>b.swipe_min_distance){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w),B="swipe";var h={x:y.move[0].x-H.left,y:y.move[0].y-H.top},j={originalEvent:a,position:h,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};i("swipe",j)}}},drag:function(a){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;if(v=Math.sqrt(c*c+d*d),b.drag&&v>b.drag_min_distance||"drag"==B){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w);var e="up"==x||"down"==x;if((e&&!b.drag_vertical||!e&&!b.drag_horizontal)&&v>b.drag_min_distance)return;B="drag";var g={x:y.move[0].x-H.left,y:y.move[0].y-H.top},h={originalEvent:a,position:g,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};A&&(i("dragstart",h),A=!1),i("drag",h),j(a)}},transform:function(a){if(b.transform){if(2!=d(a))return!1;var c=h(y.start,y.move),e=g(y.start,y.move);if("drag"!=B&&("transform"==B||Math.abs(1-e)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){B="transform",y.center={x:(y.move[0].x+y.move[1].x)/2-H.left,y:(y.move[0].y+y.move[1].y)/2-H.top};var f={originalEvent:a,position:y.center,scale:e,rotation:c};return A&&(i("transformstart",f),A=!1),i("transform",f),j(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-D;if(!b.hold||b.hold&&b.hold_timeout>d){var e=function(){if(E&&b.tap_double&&"tap"==C&&D-F<b.tap_max_interval){var a=Math.abs(E[0].x-y.start[0].x),c=Math.abs(E[0].y-y.start[0].y);return E&&y.start&&Math.max(a,c)<b.tap_double_distance}return!1}();if(e)B="double_tap",F=null,i("doubletap",{originalEvent:a,position:y.start}),j(a);else{var f=y.move?Math.abs(y.move[0].x-y.start[0].x):0,g=y.move?Math.abs(y.move[0].y-y.start[0].y):0;v=Math.max(f,g),v<b.tap_max_distance&&(B="tap",F=c,E=y.start,b.tap&&(i("tap",{originalEvent:a,position:y.start}),j(a)))}}}};J?p(a,"touchstart touchmove touchend touchcancel",l):(p(a,"mouseup mousedown mousemove",l),p(a,"mouseout",function(b){m(a,b.relatedTarget)||l(b)}))}function Hammer(a,b,c){function d(a){return a.touches?a.touches.length:1}function e(a){if(a=a||window.event,J){for(var b,c=[],d=a.touches.length>0?a.touches:a.changedTouches,e=0,f=d.length;f>e;e++)b=d[e],c.push({x:b.pageX,y:b.pageY});return c}var g=document,h=g.body;return[{x:a.pageX||a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&g.clientLeft||0),y:a.pageY||a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&g.clientTop||0)}]}function f(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function g(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function h(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=180*Math.atan2(d,c)/Math.PI;c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=180*Math.atan2(d,c)/Math.PI;return f-e}return 0}function i(a,b){b.touches=e(b.originalEvent),b.type=a,o(q["on"+a])&&q["on"+a].call(q,b)}function j(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function k(){y={},A=!1,z=0,v=0,w=0,B=null}function l(c){switch(c.type){case"mousedown":case"touchstart":y.start=e(c),D=(new Date).getTime(),z=d(c),A=!0,s=c;var f=a.getBoundingClientRect(),l=a.clientTop||document.body.clientTop||0,m=a.clientLeft||document.body.clientLeft||0,n=window.pageYOffset||a.scrollTop||document.body.scrollTop,o=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;H={top:f.top+n-l,left:f.left+o-m},I=!0,K.hold(c),b.prevent_default&&j(c);break;case"mousemove":case"touchmove":if(!I)return!1;t=c,y.move=e(c),K.transform(c)||K.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!I||"transform"!=B&&c.touches&&c.touches.length>0)return!1;I=!1,u=c;var p="drag"==B;K.swipe(c),p?i("dragend",{originalEvent:c,direction:x,distance:v,angle:w}):"transform"==B?i("transformend",{originalEvent:c,position:y.center,scale:g(y.start,y.move),rotation:h(y.start,y.move)}):K.tap(s),C=B,i("release",{originalEvent:c,gesture:B}),k()}}function m(a,b){if(!b&&window.event&&window.event.toElement&&(b=window.event.toElement),a===b)return!0;if(b)for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function n(a,b){var c={};if(!b)return a;for(var d in a)c[d]=d in b?b[d]:a[d];return c}function o(a){return"[object Function]"==Object.prototype.toString.call(a)}function p(a,b,c){b=b.split(" ");for(var d=0,e=b.length;e>d;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var q=this,r={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};b=n(r,b),function(){if(!b.css_hacks)return!1;for(var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="",f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var s,t,u,v=0,w=0,x=0,y={},z=0,A=!1,B=null,C=null,D=null,E={x:0,y:0},F=null,G=null,H={},I=!1,J="ontouchstart"in window;this.option=function(a,d){return d!=c&&(b[a]=d),b[a]},this.getDirectionFromAngle=function(a){var b,c,d={down:a>=45&&135>a,left:a>=135||-135>=a,up:-45>a&&a>-135,right:a>=-45&&45>=a};for(c in d)if(d[c]){b=c;break}return b};var K={hold:function(a){b.hold&&(B="hold",clearTimeout(G),G=setTimeout(function(){"hold"==B&&i("hold",{originalEvent:a,position:y.start})},b.hold_timeout))},swipe:function(a){if(y.move){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;v=Math.sqrt(c*c+d*d);var e=(new Date).getTime(),g=e-D;if(b.swipe&&b.swipe_time>g&&v>b.swipe_min_distance){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w),B="swipe";var h={x:y.move[0].x-H.left,y:y.move[0].y-H.top},j={originalEvent:a,position:h,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};i("swipe",j)}}},drag:function(a){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;if(v=Math.sqrt(c*c+d*d),b.drag&&v>b.drag_min_distance||"drag"==B){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w);var e="up"==x||"down"==x;if((e&&!b.drag_vertical||!e&&!b.drag_horizontal)&&v>b.drag_min_distance)return;B="drag";var g={x:y.move[0].x-H.left,y:y.move[0].y-H.top},h={originalEvent:a,position:g,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};A&&(i("dragstart",h),A=!1),i("drag",h),j(a)}},transform:function(a){if(b.transform){if(2!=d(a))return!1;var c=h(y.start,y.move),e=g(y.start,y.move);if("drag"!=B&&("transform"==B||Math.abs(1-e)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){B="transform",y.center={x:(y.move[0].x+y.move[1].x)/2-H.left,y:(y.move[0].y+y.move[1].y)/2-H.top};var f={originalEvent:a,position:y.center,scale:e,rotation:c};return A&&(i("transformstart",f),A=!1),i("transform",f),j(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-D;if(!b.hold||b.hold&&b.hold_timeout>d){var e=function(){if(E&&b.tap_double&&"tap"==C&&D-F<b.tap_max_interval){var a=Math.abs(E[0].x-y.start[0].x),c=Math.abs(E[0].y-y.start[0].y);return E&&y.start&&Math.max(a,c)<b.tap_double_distance}return!1}();if(e)B="double_tap",F=null,i("doubletap",{originalEvent:a,position:y.start}),j(a);else{var f=y.move?Math.abs(y.move[0].x-y.start[0].x):0,g=y.move?Math.abs(y.move[0].y-y.start[0].y):0;v=Math.max(f,g),v<b.tap_max_distance&&(B="tap",F=c,E=y.start,b.tap&&(i("tap",{originalEvent:a,position:y.start}),j(a)))}}}};J?p(a,"touchstart touchmove touchend touchcancel",l):(p(a,"mouseup mousedown mousemove",l),p(a,"mouseout",function(b){m(a,b.relatedTarget)||l(b)}))}function Hammer(a,b,c){function d(a){return a.touches?a.touches.length:1}function e(a){if(a=a||window.event,J){for(var b,c=[],d=a.touches.length>0?a.touches:a.changedTouches,e=0,f=d.length;f>e;e++)b=d[e],c.push({x:b.pageX,y:b.pageY});return c}var g=document,h=g.body;return[{x:a.pageX||a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&g.clientLeft||0),y:a.pageY||a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&g.clientTop||0)}]}function f(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function g(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function h(a,b){if(2==a.length&&2==b.length){var c,d;c=a[0].x-a[1].x,d=a[0].y-a[1].y;var e=180*Math.atan2(d,c)/Math.PI;c=b[0].x-b[1].x,d=b[0].y-b[1].y;var f=180*Math.atan2(d,c)/Math.PI;return f-e}return 0}function i(a,b){b.touches=e(b.originalEvent),b.type=a,o(q["on"+a])&&q["on"+a].call(q,b)}function j(a){a=a||window.event,a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function k(){y={},A=!1,z=0,v=0,w=0,B=null}function l(c){switch(c.type){case"mousedown":case"touchstart":y.start=e(c),D=(new Date).getTime(),z=d(c),A=!0,s=c;var f=a.getBoundingClientRect(),l=a.clientTop||document.body.clientTop||0,m=a.clientLeft||document.body.clientLeft||0,n=window.pageYOffset||a.scrollTop||document.body.scrollTop,o=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;H={top:f.top+n-l,left:f.left+o-m},I=!0,K.hold(c),b.prevent_default&&j(c);break;case"mousemove":case"touchmove":if(!I)return!1;t=c,y.move=e(c),K.transform(c)||K.drag(c);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!I||"transform"!=B&&c.touches&&c.touches.length>0)return!1;I=!1,u=c;var p="drag"==B;K.swipe(c),p?i("dragend",{originalEvent:c,direction:x,distance:v,angle:w}):"transform"==B?i("transformend",{originalEvent:c,position:y.center,scale:g(y.start,y.move),rotation:h(y.start,y.move)}):K.tap(s),C=B,i("release",{originalEvent:c,gesture:B}),k()}}function m(a,b){if(!b&&window.event&&window.event.toElement&&(b=window.event.toElement),a===b)return!0;if(b)for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function n(a,b){var c={};if(!b)return a;for(var d in a)c[d]=d in b?b[d]:a[d];return c}function o(a){return"[object Function]"==Object.prototype.toString.call(a)}function p(a,b,c){b=b.split(" ");for(var d=0,e=b.length;e>d;d++)a.addEventListener?a.addEventListener(b[d],c,!1):document.attachEvent&&a.attachEvent("on"+b[d],c)}var q=this,r={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};b=n(r,b),function(){if(!b.css_hacks)return!1;for(var c=["webkit","moz","ms","o",""],d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},e="",f=0;f<c.length;f++)for(var g in d)e=g,c[f]&&(e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)),a.style[e]=d[g]}();var s,t,u,v=0,w=0,x=0,y={},z=0,A=!1,B=null,C=null,D=null,E={x:0,y:0},F=null,G=null,H={},I=!1,J="ontouchstart"in window;this.option=function(a,d){return d!=c&&(b[a]=d),b[a]},this.getDirectionFromAngle=function(a){var b,c,d={down:a>=45&&135>a,left:a>=135||-135>=a,up:-45>a&&a>-135,right:a>=-45&&45>=a};for(c in d)if(d[c]){b=c;break}return b};var K={hold:function(a){b.hold&&(B="hold",clearTimeout(G),G=setTimeout(function(){"hold"==B&&i("hold",{originalEvent:a,position:y.start})},b.hold_timeout))},swipe:function(a){if(y.move){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;v=Math.sqrt(c*c+d*d);var e=(new Date).getTime(),g=e-D;if(b.swipe&&b.swipe_time>g&&v>b.swipe_min_distance){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w),B="swipe";var h={x:y.move[0].x-H.left,y:y.move[0].y-H.top},j={originalEvent:a,position:h,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};i("swipe",j)}}},drag:function(a){var c=y.move[0].x-y.start[0].x,d=y.move[0].y-y.start[0].y;if(v=Math.sqrt(c*c+d*d),b.drag&&v>b.drag_min_distance||"drag"==B){w=f(y.start[0],y.move[0]),x=q.getDirectionFromAngle(w);var e="up"==x||"down"==x;if((e&&!b.drag_vertical||!e&&!b.drag_horizontal)&&v>b.drag_min_distance)return;B="drag";var g={x:y.move[0].x-H.left,y:y.move[0].y-H.top},h={originalEvent:a,position:g,direction:x,distance:v,distanceX:c,distanceY:d,angle:w};A&&(i("dragstart",h),A=!1),i("drag",h),j(a)}},transform:function(a){if(b.transform){if(2!=d(a))return!1;var c=h(y.start,y.move),e=g(y.start,y.move);if("drag"!=B&&("transform"==B||Math.abs(1-e)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){B="transform",y.center={x:(y.move[0].x+y.move[1].x)/2-H.left,y:(y.move[0].y+y.move[1].y)/2-H.top};var f={originalEvent:a,position:y.center,scale:e,rotation:c};return A&&(i("transformstart",f),A=!1),i("transform",f),j(a),!0}}return!1},tap:function(a){var c=(new Date).getTime(),d=c-D;if(!b.hold||b.hold&&b.hold_timeout>d){var e=function(){if(E&&b.tap_double&&"tap"==C&&D-F<b.tap_max_interval){var a=Math.abs(E[0].x-y.start[0].x),c=Math.abs(E[0].y-y.start[0].y);return E&&y.start&&Math.max(a,c)<b.tap_double_distance}return!1}();if(e)B="double_tap",F=null,i("doubletap",{originalEvent:a,position:y.start}),j(a);else{var f=y.move?Math.abs(y.move[0].x-y.start[0].x):0,g=y.move?Math.abs(y.move[0].y-y.start[0].y):0;v=Math.max(f,g),v<b.tap_max_distance&&(B="tap",F=c,E=y.start,b.tap&&(i("tap",{originalEvent:a,position:y.start}),j(a)))}}}};J?p(a,"touchstart touchmove touchend touchcancel",l):(p(a,"mouseup mousedown mousemove",l),p(a,"mouseout",function(b){m(a,b.relatedTarget)||l(b)}))}!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")
}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b],e;b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){if(a.attr("data-video-id")){this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents()}}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;
this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');
b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}
},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)
})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;
""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);
if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())
})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)
}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()
}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),function(a,b){var c=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},d=function(a,b){return-1!==(" "+a.className+" ").indexOf(" "+b+" ")},e=function(a,b){d(a,b)||(a.className=""===a.className?b:a.className+" "+b)},f=function(a,b){a.className=c((" "+a.className+" ").replace(" "+b+" "," "))},g=function(a,b){if(a)do{if(a.id===b)return!0;if(9===a.nodeType)break}while(a=a.parentNode);return!1},h=b.documentElement,i=(a.Modernizr.prefixed("transform"),a.Modernizr.prefixed("transition")),j=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return a.hasOwnProperty(i)?a[i]:!1}();a.App=function(){var c=!1,k={},l=b.getElementById("inner-wrap"),m=!1,n="js-nav";return k.init=function(){if(!c){c=!0;var o=function(a){a&&a.target===l&&b.removeEventListener(j,o,!1),m=!1,$("body").removeClass("overflow-on")};k.closeNav=function(){m&&(console.log(i),console.log(j),b.addEventListener(j,o,!1)),f(h,n)},k.positionNav=function(){var b=$("#respond-navver");sTop=$(a).scrollTop(),console.log("positioning "+sTop),b.offset().top<=sTop?b.css("top",sTop):b.css("top","0px")},k.openNav=function(){k.positionNav(),m||(e(h,n),m=!0,$("body").addClass("overflow-on"))},k.toggleNav=function(a){m&&d(h,n)?k.closeNav():k.openNav(),a&&a.preventDefault()},b.getElementById("custom-nav-revealer").addEventListener("click",k.toggleNav,!1),$(a).resize(function(){k.closeNav(),$("body").removeClass("overflow-on")}),b.addEventListener("click",function(a){m&&!g(a.target,"nav")&&(a.preventDefault(),k.closeNav())},!0),e(h,"js-ready")}},k}(),a.addEventListener&&a.addEventListener("DOMContentLoaded",a.App.init,!1)}(window,window.document),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;
return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;
d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function a(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}function b(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function c(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1})}a(),b(),c()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function a(a){return a.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function b(b,c){var d=!1,e=b.toLowerCase()+c.toLowerCase(),f=a(b.toLowerCase())+a(c.toLowerCase());return j[e]?j[e]:("on"+e in window?d=e:"onwebkit"+e in window?d="webkit"+f:"ono"+e in document.documentElement&&(d="o"+f),d)}function c(){e(window,"resize",function(){clearTimeout(i.resize),i.resize=setTimeout(d,200)})}function d(){g(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function e(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function f(a,b,c){var d=k[b.toLowerCase()];b=d||b,a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function g(a,b){var c;document.createEvent?(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!1,!1,null),a.dispatchEvent(c)):(c=document.createEventObject(),a.fireEvent("on"+b,c))}function h(a){/in/.test(document.readyState)?setTimeout(function(){h(a)},9):a()}var i={resize:null},j={},k={transitionend:b("transition","end"),animationend:b("animation","end")};return c(),{on:e,off:f,emit:g,ready:h}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(a){function b(){a.on(window,"resize",c)}function c(){d(),e()}function d(){var a=q.className.split(" ");for(var b in r){var c=a.indexOf(r[b]);c>-1&&a.splice(c,1)}q.className=a.join(" ")}function e(){var a=q.className.split(" ");a.push(n()?t.has:t.hasNot),a.push(l("mobile")?u.mobile:u.desktop),a.push(m("landscape")?v.landscape:v.portrait),q.className=a.join(" ")}function f(){for(var a="transform",b=q.style,c=0;c<s.length;c++)if(b[s[c]+a]="translate3D(0,0,0)","translate3D(0,0,0)"===b[s[c]+a])return p.css.support3D=!0,p.css.support3D;return p.css.support3D=!1,p.css.support3D}function g(){var a,b=document.createElement("p"),c=document.createElement("style"),d='#testbefore:before { content: "before"; }';return c.type="text/css",b.id="testbefore",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(document.createTextNode(d)),document.body.appendChild(c),document.body.appendChild(b),a=document.getElementById("testbefore").offsetHeight,document.body.removeChild(c),document.body.removeChild(b),p.css.pseudo=a>=1,p.css.pseudo}function h(a,b,c){if(!a)return g();if(!window.getComputedStyle)return!1;var d=window.getComputedStyle(a,":"+b),e=d.getPropertyValue(c);return!e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(e=e.substring(1,e.length-1)),e}function i(a){var b=h(q,a,"content"),c=h(q,a,"font-family");return b&&"normal"!=b?b:c}function j(a){if(p.css[a])return p.css[a];if("support3D"===a)return f(a);var b=q.style;if("string"==typeof b[a])return p.css[a]=!0,!0;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<s.length;c++)if("string"==typeof b[s[c]+a])return p.css[a]=!0,p.css[a];return p.css[a]=!1,p.css[a]}function k(a,b){if(!b)return j(a);var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function l(a){return p.view=i("after")||"desktop",a?p.view==a:p.view}function m(a){return p.orientation=i("before")||"landscape",a?p.orientation==a:p.orientation}function n(){return p.touch="undefined"!=typeof window.ontouchstart,p.touch}function o(a){if(a){var b={left:a.offsetLeft,top:a.offsetTop},c=document.documentElement.scrollTop||document.body.scrollTop;return b.top+$(a).height()<=c+document.documentElement.clientHeight}}var p={css:{}},q=document.documentElement,r=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],s=["Moz","Webkit","Khtml","O","ms"],t={hasNot:r[0],has:r[1]},u={mobile:r[2],desktop:r[3]},v={landscape:r[4],portrait:r[5]};return e(),b(),{css:k,touch:n,orientation:m,view:l,pseudo:h,state:p,elementVisibleBottom:o,updateDetectionStates:c}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(a){return toolkit.detect=toolkit.detect(a),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.skycons=function(a,b){function c(a,b){var c=a.innerHTML,d=e[b];a.innerHTML="<span style=\"font-style:normal;font-family: 'skycons'\">"+d+"</span>"+c}function d(){if(!a.pseudo()){var b,d,e,f=document.getElementsByTagName("*");for(b=0;e=f[b];b+=1)d=e.className,d=d.match(/skycon-[^\s'"]+/),d&&c(e,d[0])}}var e={"skycon-sky":"&#xf100;","skycon-chevron-down":"&#xf101;","skycon-info":"&#xf102;","skycon-arrow-right":"&#xf103;","skycon-plus-circle":"&#xf104;","skycon-sky-plus":"&#xf105;","skycon-tv":"&#xf106;","skycon-twitter-reply":"&#xf107;","skycon-arrow-down-left":"&#xf108;","skycon-chevron-up":"&#xf109;","skycon-chevron":"&#xf10a;","skycon-facebook":"&#xf10b;","skycon-tick":"&#xf10c;","skycon-remote-record":"&#xf10d;","skycon-warning":"&#xf10e;","skycon-carousel-play":"&#xf10f;","skycon-arrow-left":"&#xf110;","skycon-chevron-left":"&#xf111;","skycon-on-demand":"&#xf112;","skycon-user-profile":"&#xf113;","skycon-search":"&#xf114;","skycon-twitter-retweet":"&#xf115;","skycon-at":"&#xf116;","skycon-volume":"&#xf117;","skycon-twitter-favourite":"&#xf118;","skycon-expand":"&#xf119;","skycon-carousel-pause":"&#xf11a;","skycon-mouse":"&#xf11b;","skycon-share":"&#xf11c;","skycon-never-miss":"&#xf11d;","skycon-mail":"&#xf11e;","skycon-sky-go":"&#xf11f;","skycon-twitter-follow":"&#xf120;","skycon-pending":"&#xf121;","skycon-minify":"&#xf122;","skycon-twitter":"&#xf123;","skycon-close":"&#xf124;","skycon-menu":"&#xf125;","skycon-phone":"&#xf126;","skycon-cloud":"&#xf127;","skycon-video-play":"&#xf128;","skycon-google-plus":"&#xf129;"};return b.ready(d),{add:c}},"function"==typeof window.define&&window.define.amd?define("utils/skycons",["utils/detect","utils/event"],function(a,b){return toolkit.skycons=toolkit.skycons(a,b),toolkit.skycons}):toolkit.skycons=toolkit.skycons(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function a(){$(window).on("hashchange",b);var a=document.documentMode,c="onhashchange"in window&&(void 0===a||a>7);c||(j.hash=document.location.hash,setInterval(function(){document.location.hash!==j.hash&&$(window).trigger("hashchange")},200)),j.eventsAlreadyBound=!0}function b(a){var b,c;a=i("string"==typeof a?a:location.hash),b=e(a),a&&b?(c="callback",j.lastExecutor=a):j.lastExecutor&&(b=e(j.lastExecutor),c="undo"),b&&"function"==typeof b[c]&&b[c](a)}function c(){var a=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,a.pathname+a.search)):location.hash="!"}function d(a){location.hash="!"+a}function e(a){var b,c,d,e=j.globalHashList;for(b in e)if(f(a,b)||f(b,a)){if(!(b.indexOf("/*")>=0)){d=e[b];break}c=e[b]}return d||c}function f(a,b){a=i(a),b=i(b);var c=b.split("/*"),d=0===a.indexOf(c[0])&&c.length>1||a==b;return d}function g(a,c,d){"string"==typeof a&&(a=[a]);var e,g=0,h=a.length;for(g;h>g;g++){if(e=i(a[g]),j.globalHashList[e]){var k="hashManager: hash ("+e+") already exists";throw new Error(k)}j.globalHashList[e]={callback:c,undo:d},j.eventsAlreadyBound&&f(location.hash,e)&&b()}}function h(){j.globalHashList=[]}function i(a){return a.replace(/[#!]/g,"")}var j={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return a(),{register:g,change:d,remove:c,onHashChange:b,resetHash:h,cleanHash:i}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function a(a){var b=a.url,c=a.width||400,d=a.height||c,e=a.top||screen.height/2-d/2,f=a.left||screen.width/2-c/2,g=a.title||"Sky";return window.open(b,g,"top="+e+",left="+f+",width="+c+",height="+d)}function b(b){b.preventDefault();var c=$.extend($(this).data("popup"),{url:$(this).attr("href")});a(c)}function c(){$(document).on("click","[data-popup]",b)}return c(),{open:a}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(a,b){function c(a,b){return o&&a.css({height:b,overflow:"hidden",transition:"height 0.5s ease-in-out"}),a.toggleClass(n,0===b),a}function d(a){var b=!1;if(o){if(a.attr("style")){var c=a.attr("style").split(";");for(var d in c)0===c[d].trim().indexOf("height")&&(b=!0);if(b)return}a.css({height:e(a)})}}function e(a){if(void 0!==a.data("openHeight")&&!k&&!l)return a.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(a.clone().attr("style","").removeClass(n+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var b=$("#toggle-tmp-height > div").height()-2;return a.data("openHeight",b),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),b}function f(a){var b=a.find("span").length>0?a.find("span"):a,c=b.text();b.text(a.attr("data-toggle-text")),a.attr("data-toggle-text",c).attr("data-tracking-label",c)}function g(a){var b=e(a);c(a,b)}function h(a){d(a),c(a,0)}function i(a,b){"shown"==a?m[b.selector]={state:a,$elementToToggle:b}:delete m[b.selector]}function j(a){var b=a.$elClicked,c=a.$container||$(b.attr("data-toggle")),d=a.action,e=b&&b.attr("data-toggle-state");l=void 0!==a.contentChanged?a.contentChanged:!1,"shown"===e||"hide"==d?(h(c),e="hidden"):(g(c),e="shown"),i(e,c),b||(b=$('[data-toggle="#'+c.attr("id")+'"]')),b&&e!==b.attr("data-toggle-state")&&(f(b,e),b.attr("data-toggle-state",e))}var k=!1,l=!1,m={},n="toggle-hidden",o=a.css("transition");return b.on(window,"resizeend",function(){k=!0;var a,b;for(b in m)if(a=m[b],"shown"===a.state){var d=e(a.$elementToToggle);c(a.$elementToToggle,d)}k=!1}),j},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(a,b){return toolkit.toggle=toolkit.toggle(a,b),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function a(){$(document).on("click keyup",e).on("keydown",d).on("focus","a, input, button, select, *[tabindex]",b).on("blur","a, input, button, select, *[tabindex]",c)}function b(a){g&&$(a.currentTarget).addClass(h)}function c(a){$(a.currentTarget).removeClass(h)}function d(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!0)}function e(a){var b=window.event?event.keyCode:a.keyCode;9==b&&(g=!1)}function f(a){$(a).addClass(h),a.focus()}var g=!1,h="has-focus";return a(),{apply:f,className:h}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(a,b){function c(a){this.$tabContainer=a,this.$tabs=a.find("li[role=tab]"),this.$tabTargets=a.find("div[role=tabpanel]"),this.$showMore=a.find(".dropdown-tab-select .selector"),this.$moreTabsContainer=a.find(".dropdown-tab-select"),this.$moreTabsLink=a.find(".more-tabs"),this.tabSizes={},this.tabStates=[],this.setTabStates(),this.bindEvents(),this.initTabs()}c.prototype={setTabStates:function(){var a=this;this.$tabs.each(function(){a.tabSizes[this.id]=$(this).outerWidth(!0);var b=$(this),c=b.clone(!0).removeClass("selected").removeAttr("aria-controls").removeAttr("aria-label").removeAttr("role").attr("aria-hidden","true");a.tabStates.push({id:this.id,obj:b,dropdownObj:c,size:b.outerWidth(!0),selected:b.hasClass("selected"),dropped:!1}),a.$moreTabsLink.append(c)})},getSelectedTab:function(){var a=null;return $.each(this.tabStates,function(b,c){return c.selected?(a=c,!1):void 0}),a},setSelectedTab:function(a){var b=null;return $.each(this.tabStates,function(c,d){d.selected=d.id==a,d.id==a&&(b=d)}),b},getDroppedTabs:function(){var a=[];return $.each(this.tabStates,function(b,c){c.dropped&&a.push(c)}),a},setDroppedTabs:function(){var a=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0),b=0;this.getSelectedTab()&&(b+=this.$tabs.filter("#"+this.getSelectedTab().id).outerWidth(!0)),$.each(this.tabStates,function(c,d){d.selected||(b+=d.size,b>a&&(d.dropped=!0))})},bindEvents:function(){var c=this;a.register(this.getHashList(),this.changeTab.bind(c)),this.$tabs.on("click",function(){c.changeTab($(this).find("a").attr("href"))}),this.$tabs.find("a").on("focus",function(){var a=$(this).closest("li");a.hasClass("dropped")&&c.dropTabsDuringInteraction(a.attr("id")),a.addClass("given-focus")}).on("blur",function(){$(this).closest("li").removeClass("given-focus"),c.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),c.$tabs.filter(".selected.dropped").length&&c.dropTabsDuringInteraction(c.$tabs.filter(".selected.dropped").attr("id"))}),this.$showMore.on("click",function(a){a.preventDefault(),c.toggleShowMore()}),$("body").on("click",this.hideMore.bind(c)),b.on(window,"resizeend",this.initTabs.bind(c))},initTabs:function(){this.setDroppedTabs(),this.setTabVisibility(),this.setDropdownVisibility()},getHashList:function(){var a,b=[];return this.$tabs.each(function(){a=this.getAttribute("aria-controls"),a&&b.push(a)}),b},changeTab:function(a){a=a.replace("#!","");var b=$("#"+a.replace("-tab-contents","")+"-tab"),c=$("#"+a);this.$tabs.filter(".dropped-during-interaction").removeClass("dropped-during-interaction"),this.$tabTargets.add(this.$tabs).removeClass("selected"),this.setSelectedTab(a+"-tab"),b.add(c).addClass("selected"),b.hasClass("dropped")&&(this.setDroppedTabs(),this.setTabVisibility())},hideMore:function(a){$(a.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(a){var b=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===a?"remove":"add";this.$showMore.add(this.$moreTabsLink)[b+"Class"]("dropdown-tab-selected")},setTabVisibility:function(){$.each(this.tabStates,function(a,b){b.dropped&&!b.selected?(b.obj.addClass("dropped"),b.dropdownObj.removeClass("dropped")):(b.obj.removeClass("dropped"),b.dropdownObj.addClass("dropped"))})},setDropdownVisibility:function(){this.getDroppedTabs().length?this.$moreTabsContainer.show():this.$moreTabsContainer.hide()},dropTabsDuringInteraction:function(a){var b=this,c=b.tabSizes[a],d=0;$.each(b.tabStates,function(a,b){return d+=b.size,b.obj.addClass("dropped-during-interaction"),d>=c?!1:void 0})}},$.fn.inPageNav=function(){return this.each(function(){new c($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(a,b){return toolkit.inPageNav=toolkit.inPageNav(a,b),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(a){function b(a){this.$container=a,this.$headings=a.find(".accordion-heading"),this.bindEvents()}function c(a){a.find("i").toggleClass("rotate-180")}return b.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(b){b.preventDefault();var d=$(b.currentTarget);a({$elClicked:d}),c(d)}},$.fn.accordion=function(){return this.each(function(){new b($(this))})},b},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(a){return toolkit.accordion(a)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function a(a,b){return[null,31,c(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]}function b(a,b){var c=new Date(b,a-1,1).getDay();return 0===c?7:c-1}function c(a){return a%4===0&&a%100!==0||a%400===0}function d(a){return a.toString().length<2?"0"+a:a}function e(a){this.calendarDate=$.extend(g),this.$container=a,this.$day=a.find(".day"),this.$month=a.find(".month"),this.$year=a.find(".year"),this.addCalendarHTML(),this.bindEvents()}var f=["","January","February","March","April","May","June","July","August","September","October","November","December"],g={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};e.prototype={bindEvents:function(){var a=this;a.$calendar.on("click",".date",a.selectDate.bind(a)).on("click",".prev",a.displayPreviousMonth.bind(a)).on("click",".next",a.displayNextMonth.bind(a)),a.$container.on("keyup","input",a.updateCalendarView.bind(a)).on("focus","input",a.show.bind(a)).on("keydown","input",function(b){9==b.keyCode&&a.hide()}),$(document).on("keydown",function(b){27==b.keyCode&&a.hide()}).on("click",function(b){"date-picker"==b.target.className||a.$container.find(b.target).length||a.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var a=$('<div class="calendar hidden" aria-hidden="true"></div>'),b=$('<div class="header"></div>'),c=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),d=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),e=$("<span data-date></span>"),f=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),g=$('<div class="day-container"></div>');b.append(c).append(e).append(d),a.append(b).append(f).append(g),this.$container.append(a),this.$calendar=a,this.$dateDescription=e,this.$dayContainer=g,this.renderCalendar()},renderCalendar:function(){var c=this;c.$dateDescription.text(f[c.calendarDate.month]+" "+c.calendarDate.year),c.fillDays(a(c.calendarDate.month,c.calendarDate.year),b(c.calendarDate.month,c.calendarDate.year))},fillDays:function(a,b){var c=1,d=1,e=this,f=e.calendarDate,h=[],i=[],j=!1,k=!1,l=!1,m=f.month<g.month&&f.year<=g.year||f.year<g.year,n=f.month==g.month&&f.year==g.year,o=f.month==e.$month.val()&&f.year==e.$year.val();for(c;b>c;c++)h.push("<span></span>");for(d;a>=d;d++)i=[],k=d==e.$day.val()&&o,l=d<g.day&&n||m,j=d==g.day&&n,k&&i.push("selected"),l&&i.push("past"),j&&i.push("today"),h.push("<span class='date "+i.join(" ")+"' >"+d+"</span>");e.$dayContainer.html(h.join(""))},selectDate:function(a){var b=this;b.$container.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),b.calendarDate.day=parseInt(a.currentTarget.textContent||a.currentTarget.innerText,10),b.$day.val(d(b.calendarDate.day)),b.$month.val(d(b.calendarDate.month)),b.$year.val(d(b.calendarDate.year)),b.hide()},displayPreviousMonth:function(){var a=this;1===a.calendarDate.month?(a.calendarDate.month=12,a.calendarDate.year--):a.calendarDate.month--,a.renderCalendar()},displayNextMonth:function(){var a=this;12===a.calendarDate.month?(a.calendarDate.month=1,a.calendarDate.year++):a.calendarDate.month++,a.renderCalendar()},updateCalendarView:function(){var a=this;a.calendarDate.day=parseInt(a.$day.val(),10)||g.day,a.calendarDate.month=parseInt(a.$month.val(),10)||g.month,a.calendarDate.year=parseInt(a.$year.val(),10)||g.year,a.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new e($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function a(){var a=navigator.userAgent.toLowerCase();
return-1!=a.indexOf("safari")?-1===a.indexOf("chrome"):!1}function b(a){var b=null;return a.is("[type=checkbox]")?a.is(":checked"):a.is("[type=radio]")?(b=a.parents("form").find('input[name="'+a.attr("name")+'"]')).filter(":checked").length>0:a.val()}function c(a,b){function c(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):a.setCustomValidity("")}function d(){""===a.value?b.emptyText&&a.setCustomValidity(b.emptyText):b.invalidText&&a.setCustomValidity(b.invalidText)}b.emptyText&&a.setCustomValidity(b.defaultText),a.addEventListener("change",c),a.addEventListener("input",c),a.addEventListener("invalid",d)}function d(a){this.$container=a,this.$requiredInputs=a.find("*[required]"),this.$patternInputs=a.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var e=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!a()),f="setCustomValidity"in document.createElement("input");return d.prototype={bindEvents:function(){var a=this;e&&a.$container.on("submit",function(b){a.validate(b)})},customiseHTML5Messages:function(){f&&this.$container.find(".feedback[data-for]").each(function(){var a=document.getElementById($(this).attr("data-for"));new c(a,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(a){var b=a.attr("id"),c=this.$container.find("label[for="+b+"]"),d=this.$container.find(".feedback[data-for="+b+"]");this.hasError=!0,d.length>0?d.removeClass("hidden"):d=$('<span class="form-error feedback" data-for="'+a.attr("id")+'">'+c.text()+" is required</span>").appendTo(a.closest(".row")),a.hasClass("form-error")||(a.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(a)),this.errors.push(d.first())},removeErrorsFromInput:function(a){var b=a.attr("id"),c=this.$container.find(".feedback[data-for="+b+"]");a.hasClass("form-error")&&(a.removeClass("form-error"),a.next(".skycon-warning").remove()),c.addClass("hidden")},createErrorsAtTop:function(){var a,b='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(a=0;a<this.errors.length;a++)b+='<li class="form-error">'+this.errors[a].text()+"</li>";b+="</ul></div>",this.$container.prepend(b),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(a,b){var c=$(b),d=this;""===c.val()?d.addErrorMessageToInput(c):d.removeErrorsFromInput(c)},validatePattern:function(a,c){var d=$(c),e=this,f=d.attr("pattern"),g=new RegExp("^(?:"+f+")$"),h=b(d);h&&!g.test(h)?e.addErrorMessageToInput(d):e.removeErrorsFromInput(d)},validate:function(a){var b=this;b.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(b)),this.$patternInputs.each(this.validatePattern.bind(b)),b.hasError&&(a.preventDefault(),b.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new d($(this))})},d},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(a,b){return toolkit.form(a,b)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(a,b,c,d,e){function f(b,c){var d=a(c);d.attr("data-tabindex")?(d.attr("tabindex",d.attr("data-tabindex")),d.removeAttr("data-tabindex")):d.removeAttr("tabindex")}function g(a){a.find("*[tabindex]").each(f)}function h(a){a&&a.focus()}function i(){a("body").removeAttr("style")}function j(b,c){this.$lightboxLink=a(b),this.href=this.$lightboxLink.attr("href"),this.options=a.extend({},m,c),this.init()}var k={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},l={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+k.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+k.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+k.main+'"></div>'},m={size:"large",closeButtonColour:"white"};j.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var a=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),c.register(a,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var b=this,d=a(l.waitingForAjax);return b.$contents.append(d),a.get(b.href).done(function(a){b.$lightboxLink.attr("href",b.restfulHash),b.href=b.restfulHash,c.change(c.cleanHash(b.href)),d.remove(),b.populate(null,a)}),!1},bindEvents:function(){var b=this;this.$container.on("click",function(c){var d=a(c.target);return d.hasClass(k.closeButton)&&(c.preventDefault(),b.close()),d.closest("."+k.content).length?!1:void b.close()}),d.on(this.$container[0],"animationend",b.onClose.bind(b))},populate:function(b,d){d=d||a("#"+c.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),d.length>0?this.$container.find("."+k.content).append(d):(b&&b.preventDefault&&b.preventDefault(),this.getAjaxContent())},create:function(){var b=a(l.lightboxWrapper),c=a(l.contents),d=a(l.container),e=a(l.closeButton).addClass(this.options.closeButtonColour);this.$contents=c,c.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(k[this.options.size]),c.prepend(e),d.append(c),b.append(d),a("body").append(b),this.$container=b},open:function(a){this.$container||(this.create(),this.populate(a),this.bindEvents()),this.$container.hasClass(k.open)||(this.options.onShow&&this.options.onShow(),this.$container.addClass(k.open))},close:function(){var a=this;this.$container.hasClass(k.closing)||(e.css("animation")||setTimeout(a.onClose.bind(a),500),this.$container.addClass(k.closing),c.remove())},onClose:function(){var b=this;b.$container.hasClass(k.closing)&&(b.$container.removeClass(k.open+" "+k.closing),h(b.$lightboxLink),i(),g(a("body")),b.options.onClose&&b.options.onClose())}},a.fn.lightbox=function(a){return this.each(function(){new j(this,a)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(a,b,c,d){return toolkit.lightbox(jQuery,a,b,c,d)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(a){function b(){d.on("click keypress",".share-popup .summary",c)}function c(b){b.preventDefault();var c=$(this).parent(),e="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===b.type||"touchend"===b.type||"keypress"===b.type&&13===b.which){c.toggleClass("active");var f=$(this).parent().find(".popover");a.elementVisibleBottom(f[0])===!1?f.addClass("top"):f.removeClass("top"),d.on(e,function g(a){$.contains(c[0],a.target)||(c.removeClass("active"),d.off(e,g))})}}var d=$(document);return b(),{toggleSharePopover:c}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(a){return toolkit.share(a)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(a){function b(){$(document).on("mouseenter mouseleave","[data-tooltip]",d),$("[data-tooltip] .tooltip-content").on("click",c)}function c(a){a.preventDefault(),a.stopPropagation()}function d(a){var b=$(this),c=b.find(".tooltip-content");clearTimeout(c.attr("data-tooltip-entry-timeout")),clearTimeout(c.attr("data-tooltip-exit-timeout")),"mouseenter"==a.type?""!==c.text()&&f(c):g(c)}function e(b){b.toggleClass("top",!a.elementVisibleBottom(b[0]))}function f(a){a.attr("data-tooltip-entry-timeout",setTimeout(function(){a.addClass("show"),setTimeout(function(){a.addClass("fade"),e(a)},15)},500))}function g(a){var b=250;a.attr("data-tooltip-exit-timeout",setTimeout(function(){a.removeClass("fade"),setTimeout(function(){a.removeClass("show top")},b)},300))}b()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(a){return toolkit.tooltip=toolkit.tooltip(a),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(a,b,c){function d(a,b){a.attr("data-video-id")&&(this.$container=a,this.options={token:b.token,freewheel:b.displayAdverts,animationSpeed:void 0!==b.animationSpeed?b.animationSpeed:500,autoplay:!1,videoId:a.attr("data-video-id"),onPlay:b.onPlay,closeCallback:b.closeCallback,$wrapperLocation:b.$wrapperLocation||this.$container},this.bindEvents())}return d.prototype={bindEvents:function(){var a=this;a.$container.on("click",".play-video",function(b){a.createWrapper(),a.play(b)})},bindWrapperEvents:function(){var a=this;b("body").one("keydown",a.stopOnEscape.bind(a)),a.$wrapper.one("click touchstart",".close",a.stop.bind(a)),a.$player.one("ended webkitendfullscreen",a.stop.bind(a))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(a){a&&a.preventDefault();var b=this;b.options.onPlay&&b.options.onPlay(),this.showCanvas(function(){b.$player.sky_html5player(b.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(a){27===a.keyCode&&(a.preventDefault(),this.stop())},stop:function(b){b&&b.preventDefault();var d=this;c.off(a,"resizeend",d.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(d){var e,f=this.$container,g=this.options.$wrapperLocation,h=g.find(".video-overlay"),i=g.find(".video-wrapper"),j=f.find(".play-video"),k=i.find(".close"),l=0===this.options.animationSpeed?0:this.options.animationSpeed||500,m=this;this.originalHeight=f.height(),i.addClass("playing-video"),h.fadeIn(l,function(){j.fadeOut(l),k.addClass("active"),e=m.calculateHeight(),f.animate({height:e},l,function(){c.on(a,"resizeend",b.proxy(m.resizeContainer,m)),i.show(),h.fadeOut(l),d()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var a=this,b=this.$container,c=this.options.$wrapperLocation,d=c.find(".video-overlay"),e=c.find(".video-wrapper"),f=b.find(".play-video"),g=e.find(".close"),h=0===this.options.animationSpeed?0:this.options.animationSpeed||500,i=this.originalHeight;d.fadeIn(h,function(){g.removeClass("active"),b.animate({height:i},h,function(){b.css({height:"auto"}),a.options.closeCallback&&a.options.closeCallback(),f.fadeIn(h),d.hide(),e.fadeOut(h,a.removeWrapper.bind(a))})})}},b.fn.video=function(a){return this.each(function(){new d(b(this),a)})},d},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(a){return toolkit.video(window,jQuery,a)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(a,b){function c(a,b){this.options=b,this.$viewport=a,this.$slideContainer=a.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var d=b.css("support3D"),e=b.css("transform");c.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(a){a.target.parentNode.className.indexOf("play-video")>=0||a.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("mouseenter mouseleave",".slide",function(a){$(this).find("figcaption a").toggleClass("hover","mouseenter"===a.type)})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(a,b){var c=this.$slideContainer.removeClass("animate");return b&&c.addClass("animate"),d?c.css("transform","translate3d("+a+"%,0,0) scale3d(1,1,1)"):e?c.css("transform","translate("+a+"%,0)"):b?c.animate({left:2*a+"%"},600):c.css({left:2*a+"%"}),this},toggleTermsContent:function(){this.pause();var a=0===this.$viewport.next(".terms-content").find(".terms").length;this[a?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var a=$(this.$slides[this.currentIndex]).find(".terms");a.length&&this.$viewport.next(".terms-content").append(a.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(a){this.hideTermsLink();var b=$(this.$slides[a]).find(".terms");b.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var a=this;this.$slides.video({$wrapperLocation:a.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){a.pause(),a.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){a.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(a){var b,c,d=this,e=this.$slides;return c=a.index>=this.slideCount?0:a.index<0?this.slideCount-1:a.index,b=a.index>this.currentIndex&&!a.reverse?"left":"right",e.filter(":not(:eq("+this.currentIndex+"))").hide(),e.eq(this.currentIndex).css("float",b),e.eq(c).show().css("float","left"==b?"right":"left"),this.setOffset(a.start,!1),"undefined"!=typeof a.end&&(setTimeout(function(){d.setOffset(a.end,!0),d.showTermsLink(c),d.$viewport.trigger("change",c)},20),this.currentIndex=c,"function"==typeof a.callback&&a.callback(c)),c},"goto":function(a,b,c){return b!==!1&&this.pause(),a!==this.currentIndex?(this.moveSlide(a>this.currentIndex?{index:a,start:0,end:-50,callback:c}:{index:a,start:-50,end:0,callback:c}),this):void 0},next:function(a,b){return this.goto(this.currentIndex+1,a,b),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(a,b){var c=this,d=this.options.interval;return c.timerId=setTimeout(function(){c.next(!1),c.timerId=setTimeout(function a(){c.next(!1,function(){c.timerId=setTimeout(a,d)})},d)},b||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof a&&a(),this},pause:function(a){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof a&&a(),this},touchstart:function(a){var b=a.originalEvent.touches[0];this.pause(),this.swipe.start={x:b.pageX,y:b.pageY}},touchmove:function(a){var b,c=this.swipe,d=a.originalEvent.touches[0],e=d.pageX-c.start.x,f=d.pageY-c.start.y,g=Math.abs(e)>Math.abs(f),h=0>e?this.currentIndex+1:this.currentIndex-1;c.start&&g!==!1&&(a.preventDefault(),b=e/this.$slideContainer.outerWidth(!0)*100,e>0&&(b-=50),this.swipe.positionAsPercentage=b,this.moveSlide({index:h,start:b}))},touchend:function(a){if(this.swipe.start){var b=this.swipe,c=b.positionAsPercentage,d=a.originalEvent.changedTouches[0],e=d.pageX-b.start.x,f=null,g=75;if(Math.abs(e)>g&&(f=0>e?"left":"right"),"left"===f)this.moveSlide({index:this.currentIndex+1,start:c,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===f)this.moveSlide({index:this.currentIndex-1,start:c,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==c){var h,i=e>0?c+50:c,j=this.currentIndex,k=0;0>i?this.currentIndex=j+1>=this.slideCount?0:j+1:(this.currentIndex-=1,k=-50,i-=50),h=0===this.currentIndex&&j===this.slideCount-1,this.moveSlide({index:j,start:i,end:k,reverse:h})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(a){var b=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},a),d={actions:function(a,b){var c,d,e,f,g,h,i="",j=b.actions,k=b.onclick;if(b.count<=1)return this;for(e=0;e<j.length;e++)h=j[e],c=h.id,f="next"==c||"previous"==c?" hidden-touch ":"",g="skycon-"+h.icon,d=h.speak?'<span class="speak">'+h.label+"</span>":h.label,i+='<a href="#" class="skycom-internal supportive '+f+c+'" >',i+='<span class="semi-circle"><i class="'+g+'" aria-hidden="true"></i></span>'+d,i+="</a>";return a.find(".skycom-carousel-container").before('<div class="actions">'+i+"</div>"),a.find("> .actions > *").each(function(a){$(this).attr("data-action",j[a].id).on("click",function(b){k(j[a].id),b.preventDefault()})}),this},indicators:function(a,b){var c,d,e=b.count,f=b.onclick,g='<div class="indicators"><div class="container">',h=' class="active"';if(e>1)for(d=e;d--;)g+="<span"+h+' data-tracking data-tracking-label="indicator"></span>',h="";return c=$(g+"</div></div>").on("click","span",function(a){f($(a.currentTarget).index())}),a.append(c),this},terms:function(a){var b=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),c=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return a.find(".terms").length&&(a.append(b),a.after(c),a.addClass("has-terms")),this},video:function(a){return a.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var a=$(this),e=new c(a,b),f=function(c){d.indicators(a,{count:c.slideCount,onclick:function(a){c.goto(a)}}).terms(a).actions(a,{count:c.slideCount,actions:b.actions,onclick:function(a){c[a]()}})};f(e),a.on("click",".terms-link",function(){e.toggleTermsContent()}).on("change",function(b,c){c=c||0,a.find(".indicators .container > *").removeClass("active").eq(c).addClass("active"),e.$slides.removeClass("active").find("a").attr("tabindex",-1),e.$slides.eq(c).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){a.removeClass("paused").addClass("playing")}).on("paused",function(){a.removeClass("playing").addClass("paused")}).on("pause",function(){e.pause()}).on("play",function(){e.play()}).on("goto",function(a,b){e.goto(b,!0)}).on("refresh",function(b,c){e.$slides=e.$slideContainer.find(">"),e.slideCount=e.$slides.length,a.find(".indicators").remove(),a.find(".actions").remove(),a.find(".video-overlay").remove(),c=parseInt(c,10),c=isNaN(c)||0>c?0:c,c=c>e.slideCount-1?e.slideCount-1:c,e.goto(c,!0),f(e)}).on("keyup",function(a){switch(a.keyCode){case 9:e.pause();break;case 37:e.previous();break;case 39:e.next()}}).find(".toggle-terms").on("click",function(){e.$viewport.toggleClass("showing-tandcs")}),e.slideCount>1?(e[b.autoplay===!0?"play":"pause"](!1,b.interval),e.goto(b.startSlideIndex,!1),e.showTermsLink(0),a.trigger("change")):(e.showTermsLink(0),e.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(a,b){return toolkit.carousel(a,b)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/skycons","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return{polyfill:a,detect:b,skycons:c,hashManager:d,popup:e,toggle:f,focus:g,validation:h,event:i,inPageNav:j,accordion:k,datePicker:l,lightbox:m,share:n,tooltip:o,video:p,carousel:q}}),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");
break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery),!function(a){a.fn.swearFilter=function(b){function c(a){if(null!=h&&null!=a){var c=a.replace(h,function(a){return a.replace(/(?!\b\w)\w/gi,b.mask)});return c}return a}function d(d){var e=0;d.val(c(d.val())),b.live&&d.bind(b.inputEvents,function(){e=f(a(d).get(0)),this.value=c(this.value),g(a(d).get(0),e)})}function e(a){null!=a.html()&&a.html(c(a.html()))}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}var h,j={words:"",mask:"*",mode:"input",sensor:"normal",live:!0,inputEvents:"keypress"},b=a.extend(j,b);if(""!=b.words){var k=b.words.split(" "),l="";switch(b.sensor){case"normal":for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|");break;case"high":for(i=0;i<k.length;i++)""!=k[i]&&(l+=k[i]+"|");break;default:for(i=0;i<k.length;i++)""!=k[i]&&(l+="\\b"+k[i]+"|")}h=new RegExp(l,"gi")}return this.each(function(){var c=a(this);switch(b.mode){case"input":d(c);break;case"static":e(c);break;default:d(c)}})}}(jQuery);